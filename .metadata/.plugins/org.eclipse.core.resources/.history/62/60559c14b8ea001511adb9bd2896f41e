
/*
 * Brandon Russeau
 * Ryan Hodgman
 * Isaiah Fuller
 * 
 * COSC 374
 * Estimate the value of PI based on Cesaro's Theorem
 */

import java.io.File;
import java.io.IOException;
import java.util.Random;
import java.util.Scanner;

public class Pi {
	static String file;
	static Random randNum = new Random();
	static double gcd;
	static int sumInt;

	// initialize array based on input given from a file
	public static int[] initTRNGArray(String file) {
		int[] matrixA = null;
		Scanner scanner = null;
		int num = 5000;
		try {
			scanner = new Scanner(new File(file));

			matrixA = new int[num];
			for (int i = 0; i < matrixA.length; i++) {
				matrixA[i] = scanner.nextInt();

			}
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} finally {
			scanner.close();
		}
		return matrixA;
	}

	public static int[] initIntArray(int length) {
		int[] matrix = new int[length];
		// initialize int array
		for (int i = 0; i < matrix.length; i++) {
			matrix[i] = randNum.nextInt(1000) + 1;
		}
		return matrix;
	}

	// finish implementation of BBS method
	// mod product of 2 primes
	// seed < mod
	public static long[] generateBBS(long[] arr, long seed, long mod) {
		long x = seed;
		for (int i = 0; i < arr.length; i++)
			arr[i] = x = (((long) Math.pow(x, 2)) % mod);
		
		return arr;
	}

	// public static void generate(long[] arr, long seed, long mod)
	// {
	// long x = seed;
	// for(int i=0; i<arr.length; i++)
	// arr[i] = x = (((long)Math.pow(x, 2)) % mod);
	// }
	//
	// //create an array of longs
	// long[] prng = new long[1000];
	// //fill the array with pseudo random numbers
	// generate(prng, 343, 2041);
	//
	// //look at pairs of numbers and increment the count if their gcd is 1
	// int count = 0;
	// for(int i=0; i<1000; i+=2)
	// if(gcd(prng[i], prng[i+1]) == 1)
	// count++;
	//
	// //calculate an esitmate of pi
	// System.out.println(Math.sqrt(6 / (count/500.0)));

	public static void calcGCD(int[] matrix) {
		sumInt = 0;
		// find gcd for int array
		for (int j = 0; j < matrix.length - 1; j++) {
			gcd = findGCD(matrix[j], matrix[j + 1]);
			if (gcd == 1.0) {
				sumInt++;
			}
		}
	}
	
	public static void calcGCD(long[] matrix) {
		sumInt = 0;
		// find gcd for int array
		for (int j = 0; j < matrix.length - 1; j++) {
			gcd = findGCD((int) matrix[j], (int)matrix[j + 1]);
			if (gcd == 1.0) {
				sumInt++;
			}
		}
	}

	/*
	 * code from: http://java67.blogspot.com/2012/08/
	 * java-program-to-find-gcd-of-two-numbers.html
	 */
	protected static int findGCD(int x, int y) {
		// base case
		if (y == 0) {
			return x;
		}
		return findGCD(y, x % y);
	}

	protected static double estimatePI(int[] matrix) {
		double PI, num;
		num = (double) sumInt / matrix.length;
		PI = Math.sqrt(6.0 / num);

		return PI;
	}

}
